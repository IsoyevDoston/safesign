const mongoose = require('mongoose');
require('dotenv').config();

// Import models
const User = require('./models/User');
const Document = require('./models/Document');
const Law = require('./models/Law');

// Sample laws data for Uzbekistan
const sampleLaws = [
  {
    title: "–ì—Ä–∞–∂–¥–∞–Ω—Å–∫–∏–π –∫–æ–¥–µ–∫—Å –†–µ—Å–ø—É–±–ª–∏–∫–∏ –£–∑–±–µ–∫–∏—Å—Ç–∞–Ω - –°—Ç–∞—Ç—å—è 1",
    category: "civil",
    articleNumber: "–ì–ö-1",
    content: "–ì—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–µ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ –æ—Å–Ω–æ–≤—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –ø—Ä–∏–∑–Ω–∞–Ω–∏–∏ —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Ä–µ–≥—É–ª–∏—Ä—É–µ–º—ã—Ö –∏–º –æ—Ç–Ω–æ—à–µ–Ω–∏–π, –Ω–µ–ø—Ä–∏–∫–æ—Å–Ω–æ–≤–µ–Ω–Ω–æ—Å—Ç–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏, —Å–≤–æ–±–æ–¥—ã –¥–æ–≥–æ–≤–æ—Ä–∞, –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∫–æ–≥–æ-–ª–∏–±–æ –≤ —á–∞—Å—Ç–Ω—ã–µ –¥–µ–ª–∞, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –±–µ—Å–ø—Ä–µ–ø—è—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ—Å—É—â–µ—Å—Ç–≤–ª–µ–Ω–∏—è –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–∏—Ö –ø—Ä–∞–≤, –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞—Ä—É—à–µ–Ω–Ω—ã—Ö –ø—Ä–∞–≤, –∏—Ö —Å—É–¥–µ–±–Ω–æ–π –∑–∞—â–∏—Ç—ã.",
    summary: "–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–≥–æ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –†–µ—Å–ø—É–±–ª–∏–∫–∏ –£–∑–±–µ–∫–∏—Å—Ç–∞–Ω",
    keywords: ["–≥—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–µ –ø—Ä–∞–≤–æ", "—Ä–∞–≤–µ–Ω—Å—Ç–≤–æ", "—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å", "–¥–æ–≥–æ–≤–æ—Ä", "–ø—Ä–∞–≤–∞"],
    language: "russian",
    country: "Uzbekistan",
    effectiveDate: new Date('2023-01-01'),
    isActive: true
  },
  {
    title: "–¢—Ä—É–¥–æ–≤–æ–π –∫–æ–¥–µ–∫—Å - –ó–∞–∫–ª—é—á–µ–Ω–∏–µ —Ç—Ä—É–¥–æ–≤–æ–≥–æ –¥–æ–≥–æ–≤–æ—Ä–∞",
    category: "labor", 
    articleNumber: "–¢–ö-77",
    content: "–¢—Ä—É–¥–æ–≤–æ–π –¥–æ–≥–æ–≤–æ—Ä –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –ø–∏—Å—å–º–µ–Ω–Ω–æ–π —Ñ–æ—Ä–º–µ, —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ –¥–≤—É—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–∞—Ö, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Å—Ç–æ—Ä–æ–Ω–∞–º–∏. –û–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä —Ç—Ä—É–¥–æ–≤–æ–≥–æ –¥–æ–≥–æ–≤–æ—Ä–∞ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —Ä–∞–±–æ—Ç–Ω–∏–∫—É, –¥—Ä—É–≥–æ–π —Ö—Ä–∞–Ω–∏—Ç—Å—è —É —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–º —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ —Ç—Ä—É–¥–æ–≤–æ–≥–æ –¥–æ–≥–æ–≤–æ—Ä–∞ –¥–æ–ª–∂–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—Ç—å—Å—è –ø–æ–¥–ø–∏—Å—å—é —Ä–∞–±–æ—Ç–Ω–∏–∫–∞ –Ω–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä–µ –¥–æ–≥–æ–≤–æ—Ä–∞, —Ö—Ä–∞–Ω—è—â–µ–º—Å—è —É —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è.",
    summary: "–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –∑–∞–∫–ª—é—á–µ–Ω–∏—è —Ç—Ä—É–¥–æ–≤–æ–≥–æ –¥–æ–≥–æ–≤–æ—Ä–∞ –≤ –£–∑–±–µ–∫–∏—Å—Ç–∞–Ω–µ",
    keywords: ["—Ç—Ä—É–¥–æ–≤–æ–π –¥–æ–≥–æ–≤–æ—Ä", "—Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å", "—Ä–∞–±–æ—Ç–Ω–∏–∫", "–ø–∏—Å—å–º–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞", "–ø–æ–¥–ø–∏—Å—å"],
    language: "russian",
    country: "Uzbekistan",
    effectiveDate: new Date('2023-01-01'),
    isActive: true
  },
  {
    title: "–ó–∞–∫–æ–Ω –æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü",
    category: "commercial",
    articleNumber: "–ó–†–Æ-15",
    content: "–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–º –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ–º, –ø—É—Ç–µ–º –≤–Ω–µ—Å–µ–Ω–∏—è –≤ –µ–¥–∏–Ω—ã–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü —Å–≤–µ–¥–µ–Ω–∏–π –æ —Å–æ–∑–¥–∞–Ω–∏–∏, —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏ –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü, –∞ —Ç–∞–∫–∂–µ –∏–Ω—ã—Ö —Å–≤–µ–¥–µ–Ω–∏–π –æ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü–∞—Ö –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –Ω–∞—Å—Ç–æ—è—â–∏–º –ó–∞–∫–æ–Ω–æ–º.",
    summary: "–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü –≤ –£–∑–±–µ–∫–∏—Å—Ç–∞–Ω–µ",
    keywords: ["—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è", "—é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –ª–∏—Ü–∞", "—Ä–µ–µ—Å—Ç—Ä", "—Å–æ–∑–¥–∞–Ω–∏–µ", "–ª–∏–∫–≤–∏–¥–∞—Ü–∏—è"],
    language: "russian", 
    country: "Uzbekistan",
    effectiveDate: new Date('2023-01-01'),
    isActive: true
  },
  {
    title: "–ù–∞–ª–æ–≥–æ–≤—ã–π –∫–æ–¥–µ–∫—Å - –ù–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏–µ –º–∞–ª–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞",
    category: "tax",
    articleNumber: "–ù–ö-156",
    content: "–°—É–±—ä–µ–∫—Ç—ã –º–∞–ª–æ–≥–æ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∏–º–µ—é—Ç –ø—Ä–∞–≤–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å —É–ø—Ä–æ—â–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –Ω–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏—è. –ü—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –Ω–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏—è —Å—É–±—ä–µ–∫—Ç—ã –º–∞–ª–æ–≥–æ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –æ—Ç —É–ø–ª–∞—Ç—ã –Ω–∞–ª–æ–≥–∞ –Ω–∞ –ø—Ä–∏–±—ã–ª—å, –Ω–∞–ª–æ–≥–∞ –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å (–∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –ù–î–°, —É–ø–ª–∞—á–∏–≤–∞–µ–º–æ–≥–æ –ø—Ä–∏ –≤–≤–æ–∑–µ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—é –†–µ—Å–ø—É–±–ª–∏–∫–∏ –£–∑–±–µ–∫–∏—Å—Ç–∞–Ω), –ø–æ–¥–æ—Ö–æ–¥–Ω–æ–≥–æ –Ω–∞–ª–æ–≥–∞ —Å —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü.",
    summary: "–õ—å–≥–æ—Ç–Ω–æ–µ –Ω–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å—É–±—ä–µ–∫—Ç–æ–≤ –º–∞–ª–æ–≥–æ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–∞",
    keywords: ["–Ω–∞–ª–æ–≥–∏", "–º–∞–ª—ã–π –±–∏–∑–Ω–µ—Å", "—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞", "–ª—å–≥–æ—Ç—ã", "–ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å—Ç–≤–æ"],
    language: "russian",
    country: "Uzbekistan", 
    effectiveDate: new Date('2023-01-01'),
    isActive: true
  },
  {
    title: "–ó–∞–∫–æ–Ω –æ–± –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏",
    category: "commercial",
    articleNumber: "–ò–°-25",
    content: "–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∑–∞–∫–æ–Ω–æ–º. –ê–≤—Ç–æ—Ä—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∞–≤–æ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–∞–∫–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ –ª—é–±–æ–π —Ñ–æ—Ä–º–µ –∏ –ª—é–±—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏. –ò—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∞–≤–æ –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω–æ –∞–≤—Ç–æ—Ä–æ–º –¥—Ä—É–≥–æ–º—É –ª–∏—Ü—É –ø–æ –¥–æ–≥–æ–≤–æ—Ä—É.",
    summary: "–û—Å–Ω–æ–≤—ã –∑–∞—â–∏—Ç—ã –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –≤ –£–∑–±–µ–∫–∏—Å—Ç–∞–Ω–µ", 
    keywords: ["–∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å", "–∞–≤—Ç–æ—Ä—Å–∫–∏–µ –ø—Ä–∞–≤–∞", "–ø–∞—Ç–µ–Ω—Ç—ã", "–ª–∏—Ü–µ–Ω–∑–∏–∏", "–ø–µ—Ä–µ–¥–∞—á–∞ –ø—Ä–∞–≤"],
    language: "russian",
    country: "Uzbekistan",
    effectiveDate: new Date('2023-01-01'),
    isActive: true
  },
  {
    title: "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –∫–æ–¥–µ–∫—Å - –®—Ç—Ä–∞—Ñ—ã –∑–∞ –Ω–∞—Ä—É—à–µ–Ω–∏—è",
    category: "administrative",
    articleNumber: "–ê–ö-45",
    content: "–ó–∞ –Ω–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –≤–µ–¥–µ–Ω–∏—è –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å–∫–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —à—Ç—Ä–∞—Ñ—ã –≤ —Ä–∞–∑–º–µ—Ä–µ –æ—Ç –æ–¥–Ω–æ–≥–æ –¥–æ –ø—è—Ç–∏ –±–∞–∑–æ–≤—ã—Ö —Ä–∞—Å—á–µ—Ç–Ω—ã—Ö –≤–µ–ª–∏—á–∏–Ω –¥–ª—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü –∏ –æ—Ç –ø—è—Ç–∏ –¥–æ –¥–µ—Å—è—Ç–∏ –±–∞–∑–æ–≤—ã—Ö —Ä–∞—Å—á–µ—Ç–Ω—ã—Ö –≤–µ–ª–∏—á–∏–Ω –¥–ª—è —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü.",
    summary: "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –Ω–∞—Ä—É—à–µ–Ω–∏—è –≤ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å–∫–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏",
    keywords: ["–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —à—Ç—Ä–∞—Ñ—ã", "–Ω–∞—Ä—É—à–µ–Ω–∏—è", "–ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å—Å–∫–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å", "–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å"],
    language: "russian",
    country: "Uzbekistan",
    effectiveDate: new Date('2023-01-01'),
    isActive: true
  },
  {
    title: "–ó–∞–∫–æ–Ω –æ –∑–∞—â–∏—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö",
    category: "civil",
    articleNumber: "–ó–ü–î-12",
    content: "–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–Ω–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å—Å—è —Å —Å–æ–±–ª—é–¥–µ–Ω–∏–µ–º –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –∑–∞–∫–æ–Ω–Ω–æ—Å—Ç–∏, —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç–∏, —Å–æ—Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏, –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç–∏ –∏ –¥–æ–±—Ä–æ—Å–æ–≤–µ—Å—Ç–Ω–æ—Å—Ç–∏. –°–æ–≥–ª–∞—Å–∏–µ —Å—É–±—ä–µ–∫—Ç–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –µ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–ª—É—á–µ–Ω–æ –≤ –ø–∏—Å—å–º–µ–Ω–Ω–æ–π —Ñ–æ—Ä–º–µ.",
    summary: "–ü—Ä–∞–≤–∏–ª–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –∑–∞—â–∏—Ç—ã –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –£–∑–±–µ–∫–∏—Å—Ç–∞–Ω–µ",
    keywords: ["–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ", "–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö", "—Å–æ–≥–ª–∞—Å–∏–µ", "–∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å", "–∑–∞—â–∏—Ç–∞"],
    language: "russian",
    country: "Uzbekistan",
    effectiveDate: new Date('2023-01-01'),
    isActive: true
  }
];

async function seedDatabase() {
  try {
    console.log('üîå Connecting to MongoDB Atlas...');
    await mongoose.connect(process.env.MONGODB_URI);
    console.log('‚úÖ Connected to MongoDB Atlas successfully');

    // Create admin user
    console.log('üë§ Creating admin user...');
    const adminExists = await User.findOne({ email: 'admin@safesign.uz' });
    
    if (!adminExists) {
      const adminUser = new User({
        name: 'SafeSign Admin',
        email: 'admin@safesign.uz',
        password: 'admin123456',
        role: 'admin',
        subscriptionPlan: 'enterprise',
        monthlyLimit: 1000,
        isEmailVerified: true,
        isActive: true
      });
      
      await adminUser.save();
      console.log('‚úÖ Admin user created successfully');
    } else {
      console.log('‚ÑπÔ∏è  Admin user already exists');
    }

    // Create sample test user
    console.log('üë§ Creating test user...');
    const testUserExists = await User.findOne({ email: 'test@safesign.uz' });
    
    if (!testUserExists) {
      const testUser = new User({
        name: 'Test User',
        email: 'test@safesign.uz', 
        password: 'test123456',
        role: 'user',
        subscriptionPlan: 'free',
        monthlyLimit: 3,
        isEmailVerified: true,
        isActive: true
      });
      
      await testUser.save();
      console.log('‚úÖ Test user created successfully');
    } else {
      console.log('‚ÑπÔ∏è  Test user already exists');
    }

    // Populate laws database
    console.log('‚öñÔ∏è  Adding sample laws to database...');
    const existingLaws = await Law.countDocuments();
    
    if (existingLaws === 0) {
      await Law.insertMany(sampleLaws);
      console.log(`‚úÖ Added ${sampleLaws.length} sample laws successfully`);
    } else {
      console.log(`‚ÑπÔ∏è  Laws already exist in database (${existingLaws} laws found)`);
    }

    // Create text indexes for search
    console.log('üîç Creating search indexes...');
    try {
      await Law.collection.createIndex({
        title: 'text',
        content: 'text', 
        keywords: 'text',
        summary: 'text'
      });
      console.log('‚úÖ Search indexes created successfully');
    } catch (error) {
      console.log('‚ÑπÔ∏è  Search indexes may already exist');
    }

    console.log('üìä Database seeding completed successfully!');
    console.log('üéØ You can now test the application with these accounts:');
    console.log('   Admin: admin@safesign.uz / admin123456');  
    console.log('   Test:  test@safesign.uz / test123456');
    console.log(`üìö Database contains ${sampleLaws.length} legal documents`);

  } catch (error) {
    console.error('‚ùå Database seeding failed:', error);
  } finally {
    await mongoose.connection.close();
    console.log('üîå Database connection closed');
  }
}

// Check if this script is being run directly 
if (require.main === module) {
  seedDatabase();
}

module.exports = { seedDatabase, sampleLaws };
